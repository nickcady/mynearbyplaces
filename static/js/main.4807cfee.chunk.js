(this.webpackJsonpmynearbyplaces=this.webpackJsonpmynearbyplaces||[]).push([[0],{37:function(e,t,n){},38:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n.n(c),s=n(30),i=n.n(s),o=(n(37),n(25)),l=n(16),j=n(7),u=n(17),d=n(18),h=n(20),b=n(19),O="https://nickcady-mynearbyplaces.herokuapp.com",p={addPlace:function(e,t,n,a){return fetch(O+"/place",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,category:t,city:n,state:a})}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},getReviews:function(e){return fetch(O+"/reviews/"+e).then((function(e){return e.json()}))},addReview:function(e,t){return fetch(O+"/review",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({placeid:e,review:t})}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},search:function(e,t){return fetch(O+"/search/"+e+"/"+t).then((function(e){return e.json()}))}},v=n(8),x=n(14),f=n(15),m=n(12),y=n(6),g=(n(38),function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var c;return Object(u.a)(this,n),(c=t.call(this,e)).searchSubmit=function(e){var t=c.state,n=t.searchType,a=t.searchTerm;p.search(n,a).then((function(e){for(var t=function(t){p.getReviews(e[t].id).then((function(n){return e[t].reviews=n}))},n=0;n<e.length;n++)t(n);c.setState({results:e,entered:!0})}))},c.onOptionChange=function(e){var t=e.target.value;c.setState({searchType:t}),e.preventDefault()},c.onSearchChange=function(e){var t=e.target.value;c.setState({searchTerm:t}),e.preventDefault()},c.removeEntry=function(e,t){console.log(e.reviews)},c.addReview=function(e,t){c.setState({review:!0,place:e})},c.body=function(){return Object(a.jsx)(v.a,{className:"search",children:Object(a.jsx)(x.a,{children:Object(a.jsxs)(y.a.Group,{children:[Object(a.jsxs)(y.a.Control,{as:"select",size:"lg",value:c.state.selector,onChange:c.onOptionChange,children:[Object(a.jsx)("option",{value:"city",children:"City"}),Object(a.jsx)("option",{value:"state",children:"State"})]}),Object(a.jsx)(y.a.Control,{type:"text",placeholder:"search...",value:c.state.searchTerm,onChange:c.onSearchChange}),Object(a.jsx)(m.a,{as:"input",type:"submit",value:"Submit",onClick:c.searchSubmit})]})})})},c.renderResults=function(){var e=c.state.results;return Object(a.jsx)(v.a,{className:"result",children:Object(a.jsx)(f.a,{children:e.length>0?Object(a.jsx)(v.a,{children:e.map((function(e,t){return Object(a.jsxs)(v.a,{className:"resultbox",children:[Object(a.jsx)("label",{children:t+1+": "+e.place}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:e.city+", "+e.state}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{children:e.category}),Object(a.jsx)("br",{}),void 0!==e.reviews&&e.reviews.length>0?Object(a.jsxs)(v.a,{children:[Object(a.jsx)("label",{children:"Reviews:"}),Object(a.jsx)("br",{}),Object(a.jsx)(v.a,{children:e.reviews.map((function(e,t){return Object(a.jsxs)(v.a,{className:"reviews",children:[Object(a.jsx)("label",{children:'    "'+e+'"'}),Object(a.jsx)("br",{})]},t)}))})]}):"",Object(a.jsxs)(x.a,{className:"buttons",children:[Object(a.jsx)(m.a,{variant:"danger",onClick:function(t){return c.removeEntry(e,t)},children:"Remove"}),Object(a.jsx)(m.a,{variant:"primary",onClick:function(t){return c.addReview(e,t)},children:"Add Review"})]})]},t)}))}):"Sorry, no results for that search"})})},c.state={reviews:[],results:[],searchType:"city",searchTerm:"",entered:!1,review:!1,place:""},c}return Object(d.a)(n,[{key:"render",value:function(){var e=this.state,t=e.review,n=e.place;return t?Object(a.jsx)(j.a,{to:{pathname:"/addreview",state:{place:n}}}):Object(a.jsxs)(v.a,{children:[Object(a.jsx)(v.a,{className:"addplace",children:Object(a.jsx)(l.b,{to:"/addplace",children:"Add Company"})}),Object(a.jsxs)(v.a,{className:"welcome",children:[Object(a.jsx)(v.a,{className:"near",children:"Welcome to mynearbyplaces!"}),this.body(),this.state.entered?this.renderResults():""]})]})}}]),n}(r.a.Component)),C=n(21),w=(n(45),function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var c;return Object(u.a)(this,n),(c=t.call(this,e)).onSubmit=function(e){var t=c.state,n=t.name,a=t.category,r=t.city,s=t.state;p.addPlace(n,a,r,s),e.preventDefault(),c.setState({done:!0})},c.onCancel=function(e){e.preventDefault(),c.setState({done:!0})},c.onInputChange=function(e){var t=e.target.value,n=e.target.id;c.setState(Object(C.a)({},n,t))},c.inputform=function(){return Object(a.jsx)(v.a,{className:"addform",children:Object(a.jsx)(x.a,{children:Object(a.jsx)(f.a,{children:Object(a.jsxs)(y.a,{children:[Object(a.jsx)("label",{className:"title",children:"Add a Business"}),Object(a.jsxs)(y.a.Group,{controlId:"name",children:[Object(a.jsx)(y.a.Label,{children:"Name:"}),Object(a.jsx)(y.a.Control,{size:"lg",type:"text",value:c.state.name,onChange:c.onInputChange,placeholder:"Enter Name"})]}),Object(a.jsxs)(y.a.Group,{controlId:"category",children:[Object(a.jsx)(y.a.Label,{children:"Category:"}),Object(a.jsx)(y.a.Control,{size:"lg",type:"text",value:c.state.category,onChange:c.onInputChange,placeholder:"Enter Category"})]}),Object(a.jsxs)(y.a.Group,{controlId:"city",children:[Object(a.jsx)(y.a.Label,{children:"City:"}),Object(a.jsx)(y.a.Control,{size:"lg",type:"text",value:c.state.city,onChange:c.onInputChange,placeholder:"Enter City"})]}),Object(a.jsxs)(y.a.Group,{controlId:"state",children:[Object(a.jsx)(y.a.Label,{children:"State:"}),Object(a.jsx)(y.a.Control,{size:"lg",type:"text",value:c.state.state,onChange:c.onInputChange,placeholder:"Enter State"})]}),Object(a.jsxs)(x.a,{className:"buttons",children:[Object(a.jsx)(m.a,{variant:"secondary",onClick:c.onCancel,children:"Cancel"}),Object(a.jsx)(m.a,{variant:"primary",onClick:c.onSubmit,children:"Add Business"})]})]})})})})},c.state={name:"",category:"",city:"",state:"",done:!1},c}return Object(d.a)(n,[{key:"render",value:function(){return this.state.done?Object(a.jsx)(j.a,{to:{pathname:"/mynearbyplaces"}}):this.inputform()}}]),n}(r.a.Component)),S=(n(46),function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var c;return Object(u.a)(this,n),(c=t.call(this,e)).onSubmit=function(e,t){var n=c.state.review;p.addReview(e.id,n),t.preventDefault(),c.setState({done:!0})},c.onCancel=function(e){e.preventDefault(),c.setState({done:!0})},c.onInputChange=function(e){var t=e.target.value;c.setState({review:t})},c.reviewForm=function(e){return Object(a.jsx)(v.a,{className:"addform",children:Object(a.jsx)(x.a,{children:Object(a.jsx)(f.a,{children:Object(a.jsxs)(y.a,{children:[Object(a.jsxs)("label",{children:["Enter a review for ",e.name]}),Object(a.jsx)(y.a.Group,{controlId:"review",children:Object(a.jsx)(y.a.Control,{className:"textfield",as:"textarea",rows:3,value:c.state.review,onChange:c.onInputChange,placeholder:"Enter Review..."})}),Object(a.jsxs)(x.a,{className:"buttons",children:[Object(a.jsx)(m.a,{variant:"secondary",onClick:c.onCancel,children:"Cancel"}),Object(a.jsx)(m.a,{variant:"primary",onClick:function(t){return c.onSubmit(e,t)},children:"Add Review"})]})]})})})})},c.state={entered:!1,review:"",done:!1},c}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.location,t=!1;if(e&&e.state&&e.state.place&&(t=e.state.place),this.state.done){return Object(a.jsx)(j.a,{to:{pathname:"/mynearbyplaces"}})}return Object(a.jsx)(v.a,{children:t?this.reviewForm(t):""})}}]),n}(r.a.Component));n(47);var N=function(){return Object(a.jsx)(l.a,{children:Object(a.jsxs)(j.d,{children:[Object(a.jsx)(j.b,{exact:!0,path:"/mynearbyplaces/",render:function(e){return Object(a.jsx)(g,Object(o.a)({},e))}}),Object(a.jsx)(j.b,{path:"/addplace",children:Object(a.jsx)(w,{})}),Object(a.jsx)(j.b,{path:"/addreview",render:function(e){return Object(a.jsx)(S,Object(o.a)({},e))}})]})})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,49)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(N,{})}),document.getElementById("root")),k()}},[[48,1,2]]]);
//# sourceMappingURL=main.4807cfee.chunk.js.map